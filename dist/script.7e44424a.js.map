{"version":3,"sources":["js/script.js"],"names":["app","document","querySelector","headerText","footerText","iconArr","operSelectors","btnArr","createElement","element","selector","parent","inHTML","elem","classList","add","innerHTML","append","crtNumBtn","sel","inText","div","crtOperBtn","children","i","calcOperMinus","calcOperMultiply","calcOperDivide","calcOperResult","calcNums","querySelectorAll","calcOpers","display","historyBtn","cleanDisplay","numToDisplay","item","numAfterDOT","number","parseFloat","toFixed","calculate","calcArr","mathResult","split","historyDisplay","historyParagraph","console","log","addELtoNums","forEach","contains","addEventListener","addELtoOpers","removeELtoNums","removeEventListener","removeELtoOpers","remove"],"mappings":"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","file":"script.7e44424a.js","sourceRoot":"..","sourcesContent":["'use strict';\r\n\r\n//#region Создание верстки\r\n// Получаем головной элемент\r\nconst app = document.querySelector('.app');\r\n\r\nconst headerText = `Простейший Калькулятор<br />\r\n                    <h5>для двух чисел</h5>`;\r\nconst footerText = `Создано в учебных целях с помощью<br />\r\n                    HTML, SCSS(SASS) и JavaScript\r\n                    <br />\r\n                    <br />\r\n                    Asmadeus, 2021 г.`;\r\nconst iconArr = [\r\n    '<i class=\"fas fa-divide\"></i>', // 0 - Деление\r\n    '<i class=\"fas fa-times\"></i>', // 1 - Умножение\r\n    '<i class=\"fas fa-minus\"></i>', // 2 - Минус\r\n    '<i class=\"fas fa-plus\"></i>', // 3 - Плюс\r\n    '<i class=\"fas fa-equals\"></i>', // 4 - Равно\r\n];\r\nconst operSelectors = [\r\n    'divide', // 0 - Плюс\r\n    'multiply', // 1 - Минус\r\n    'minus', // 2 - Умножение\r\n    'plus', // 3 - Деление\r\n    'result' // 4 - Равно\r\n];\r\nconst btnArr = [\r\n    '7',\r\n    '8',\r\n    '9',\r\n    '4',\r\n    '5',\r\n    '6',\r\n    '1',\r\n    '2',\r\n    '3',\r\n    '.',\r\n    '0',\r\n    '<i class=\"fas fa-trash\"></i>'\r\n];\r\n\r\nfunction createElement(element, selector, parent, inHTML) {\r\n    const elem = document.createElement(element);\r\n    elem.classList.add(selector);\r\n    elem.innerHTML = inHTML;\r\n    parent.append(elem);\r\n}\r\n\r\nfunction crtNumBtn(parent, sel, inText) {\r\n    const div = document.createElement('button');\r\n    div.classList.add('num__btn', sel);\r\n    div.innerHTML = inText;\r\n    parent.append(div);\r\n}\r\n\r\nfunction crtOperBtn(parent, inText, operSelectors) {\r\n    const div = document.createElement('button');\r\n    div.classList.add('oper__btn', operSelectors);\r\n    div.innerHTML = inText;\r\n    parent.append(div);\r\n}\r\n// app.children[0] - header\r\n// app.children[1] - calc\r\n// app.children[1].children[0] - calc__main\r\n// app.children[1].children[0].children[0] - main__display\r\n// app.children[1].children[0].children[0].children[0] - display__display\r\n// app.children[1].children[0].children[0].children[1] - display__historyBtn\r\n// app.children[1].children[0].children[1] - main__btns\r\n// app.children[1].children[0].children[1].children[0] - btns__num\r\n// app.children[1].children[0].children[1].children[1] - btns__oper\r\n// app.children[1].children[1] - calc__history\r\n// app.children[1].children[1].children[0] - history__display\r\n// app.children[2] - footer\r\n\r\n// Создаем Заголовок\r\ncreateElement('header', 'header', app, headerText);\r\n\r\n// Создаем \"Корпус Калькулятора\"\r\ncreateElement('div', 'calc', app, '');\r\n\r\n// Создаем Левую часть\r\ncreateElement('div', 'calc__main', app.children[1], '');\r\n// Создаем Правую часть\r\n// createElement('div', 'calc__history', app.children[1], '');\r\n\r\n// Создаем Блок Дисплея на Корпусе\r\ncreateElement('div', 'main__display', app.children[1].children[0], '');\r\n// Создаем Дисплей в блоке Дисплея\r\ncreateElement('div', 'display__display', app.children[1].children[0].children[0], '');\r\n// Создаем Кнопку истории в блоке Дисплея\r\ncreateElement('button', 'display__historyBtn', app.children[1].children[0].children[0], '<i class=\"fas fa-chevron-right\"></i>');\r\n// Создаем Кнопочный блок на Корпусе\r\ncreateElement('div', 'main__btns', app.children[1].children[0], '');\r\n// Создаем циклом Кнопки в цифровом блоке\r\ncreateElement('div', 'btns__num', app.children[1].children[0].children[1], '');\r\nfor (let i = 0; i < 12; i++) {\r\n    const div = app.children[1].children[0].children[1].children[0];\r\n    crtNumBtn(div, 'num__btn', btnArr[i]);\r\n}\r\n// Создаем циклом Кнопки Управления\r\ncreateElement('div', 'btns__oper', app.children[1].children[0].children[1], '');\r\nfor (let i = 0; i < 5; i++) {\r\n    const div = app.children[1].children[0].children[1].children[1];\r\n    crtOperBtn(div, iconArr[i], operSelectors[i]);\r\n}\r\n\r\n// Создаем Подвал\r\ncreateElement('footer', 'footer', app, footerText);\r\n\r\n//#endregion\r\n\r\n//#region Обработчики и функционал\r\n\r\n//#region Получение элементов со страницы\r\n// Кнопки Мат. Операций\r\nconst calcOperMinus = document.querySelector('.minus');\r\nconst calcOperMultiply = document.querySelector('.multiply');\r\nconst calcOperDivide = document.querySelector('.divide');\r\nconst calcOperResult = document.querySelector('.result');\r\n// Список всех кнопок в виде псевдомассвиа\r\nconst calcNums = document.querySelectorAll('.num__btn');\r\nconst calcOpers = document.querySelectorAll('.oper__btn');\r\n// Дисплей\r\nconst display = document.querySelector('.display__display');\r\n// Кнопка Истории\r\nconst historyBtn = document.querySelector('.display__historyBtn');\r\n\r\n\r\n// Добавления селектора CLN кнопке очищения.\r\ncalcNums[11].classList.add('CLN');\r\n// Добавления селектора CLN кнопке очищения.\r\ncalcNums[11].classList.add('CLN');\r\n\r\n//#endregion\r\nhistoryBtn.addEventListener('click', () => {\r\n    if (app.children[1].children[1]) {\r\n        app.children[1].children[1].remove();\r\n        historyBtn.innerHTML = '<i class=\"fas fa-chevron-right\"></i>';\r\n    } else {\r\n        createElement('div', 'calc__history', app.children[1], '');\r\n        createElement('div', 'history__display', app.children[1].children[1], '');\r\n        historyBtn.innerHTML = '<i class=\"fas fa-chevron-left\"></i>';\r\n    }\r\n});\r\n\r\n\r\nfunction cleanDisplay() {\r\n    display.innerHTML = '';\r\n}\r\n\r\nfunction numToDisplay(item) {\r\n    display.innerHTML += item.innerHTML;\r\n}\r\n\r\nfunction numAfterDOT(number) {\r\n    return (parseFloat(number).toFixed(2));\r\n}\r\n\r\nfunction calculate() {\r\n    const calcArr = display.innerHTML.split(/(-?\\d+(?:\\.\\d+)?)\\s*([-+*\\/])\\s*(-?\\d+(?:\\.\\d+)?)/gm);\r\n    let mathResult;\r\n    calcArr[1] = parseFloat(calcArr[1]);\r\n    calcArr[3] = parseFloat(calcArr[3]);\r\n\r\n    // Дисплей Истории\r\n    const historyDisplay = document.querySelector('.history__display');\r\n    const historyParagraph = document.createElement('p');\r\n    if (calcArr[2] == '/') {\r\n        if (calcArr[3] == 0) {\r\n            mathResult = `Делить на 0 нельзя!`;\r\n            historyDisplay.append(historyParagraph);\r\n            historyParagraph.innerHTML = `${calcArr[1]} / ${calcArr[3]} = ${mathResult}`;\r\n        } else {\r\n            mathResult = calcArr[1] / calcArr[3];\r\n            historyDisplay.append(historyParagraph);\r\n            historyParagraph.innerHTML = `${calcArr[1]} / ${calcArr[3]} = ${mathResult}`;\r\n        }\r\n    }\r\n    if (calcArr[2] == '*') {\r\n        mathResult = calcArr[1] * calcArr[3];\r\n        historyDisplay.append(historyParagraph);\r\n        historyParagraph.innerHTML = `${calcArr[1]} * ${calcArr[3]} = ${mathResult}`;\r\n    }\r\n    if (calcArr[2] == '-') {\r\n        mathResult = calcArr[1] - calcArr[3];\r\n        historyDisplay.append(historyParagraph);\r\n        historyParagraph.innerHTML = `${calcArr[1]} - ${calcArr[3]} = ${mathResult}`;\r\n    }\r\n    if (calcArr[2] == '+') {\r\n        mathResult = calcArr[1] + calcArr[3];\r\n        historyDisplay.append(historyParagraph);\r\n        historyParagraph.innerHTML = `${calcArr[1]} + ${calcArr[3]} = ${mathResult}`;\r\n    }\r\n    if (typeof display.innerHTML == 'string') {\r\n        display.innerHTML = mathResult;\r\n    } else {\r\n        display.innerHTML = numAfterDOT(mathResult);\r\n    }\r\n    console.log(calcArr);\r\n    console.log(`Результат : ${numAfterDOT(mathResult)}`);\r\n}\r\n\r\nfunction addELtoNums() {\r\n    calcNums.forEach(item => {\r\n        if (!item.classList.contains('CLN')) {\r\n            item.addEventListener('click', () => {\r\n                numToDisplay(item);\r\n            });\r\n        }\r\n    });\r\n    calcNums[11].addEventListener('click', cleanDisplay);\r\n}\r\n\r\nfunction addELtoOpers() {\r\n    calcOpers.forEach(item => {\r\n        if (!item.classList.contains('Result')) {\r\n            item.addEventListener('click', () => {\r\n                if (item.classList.contains('plus')) {\r\n                    display.innerHTML += '+';\r\n                }\r\n                if (item.classList.contains('minus')) {\r\n                    display.innerHTML += '-';\r\n                }\r\n                if (item.classList.contains('multiply')) {\r\n                    display.innerHTML += '*';\r\n                }\r\n                if (item.classList.contains('divide')) {\r\n                    display.innerHTML += '/';\r\n                }\r\n            });\r\n        }\r\n    });\r\n    calcOpers[4].addEventListener('click', calculate);\r\n}\r\n\r\nfunction removeELtoNums() {\r\n    calcNums.forEach(item => {\r\n        if (!item.classList.contains('CLN')) {\r\n            item.removeEventListener('click', () => {\r\n                numToDisplay(item);\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction removeELtoOpers() {\r\n    calcOpers.forEach(item => {\r\n        if (!item.classList.contains('Result')) {\r\n            item.removeEventListener('click', () => {\r\n                if (item.classList.contains('plus')) {\r\n                    display.innerHTML += '+';\r\n                }\r\n                if (item.classList.contains('minus')) {\r\n                    display.innerHTML += '-';\r\n                }\r\n                if (item.classList.contains('multiply')) {\r\n                    display.innerHTML += '*';\r\n                }\r\n                if (item.classList.contains('divide')) {\r\n                    display.innerHTML += '/';\r\n                }\r\n            });\r\n        }\r\n    });\r\n    calcOpers[4].removeEventListener('click', calculate);\r\n}\r\n\r\naddELtoNums();\r\naddELtoOpers();\r\n//#endregion"]}